풀스택 JavaScript 기반의 현대적인 웹 애플리케이션으로, 클라이언트와 서버가 GraphQL API를 통해 데이터를 주고받는 구조입니다. 이 구조는 대시보드에서 실시간 데이터를 효율적으로 관리하기에 매우 적합합니다.

1. 메인 페이지 고객 상호작용 분석
   고객이 메인 페이지에서 수행하는 핵심적인 활동은 다음과 같습니다.

비자 신청 (Apply for Visa):

가장 중요한 상호작용입니다. 고객은 (Apply Now) 버튼을 통해 /apply 페이지로 이동합니다.
신청서에 개인 정보, 비자 종류, 처리 속도 등을 입력합니다.
여권, 사진 등 필요한 서류를 업로드합니다.
최종적으로 비용을 결제합니다.
연관 대시보드 메뉴: Applications, Users, Documents, Payments.
문의 및 상담 (Contact & Consultation):

고객은 Contact Form을 통해 궁금한 점을 문의합니다.
**챗봇(chatbot.js)**을 통해 실시간으로 질문하고 답변을 얻습니다. 답변이 불충분할 경우 상담원 연결을 요청할 수 있습니다.
연관 대시보드 메뉴: Consultations, Notifications.
서비스 및 가격 정보 탐색 (Service & Pricing Exploration):

고객은 E-Visa, 공항 패스트트랙 등 제공되는 서비스의 상세 내용과 가격을 확인합니다.
이 정보는 고객의 신청 결정에 직접적인 영향을 줍니다.
연관 대시보드 메뉴: Services, Pricing. 2. 대시보드 메뉴별 추천 워크플로우
위의 고객 상호작용을 바탕으로, /dashboard의 각 메뉴가 어떻게 유기적으로 작동해야 할지에 대한 개발 워크플로우를 제안합니다.

✅ Applications (비자 신청 관리)
가장 핵심적인 메뉴입니다. 모든 비자 신청 건의 라이프사이클을 관리합니다.

현재 상태: server/models/visaApplication.js 모델과 관련 resolvers가 기본적인 데이터 구조를 정의하고 있습니다.
추천 워크플로우:
신규 접수 (New): 고객이 /apply에서 신청서를 제출하면, 이 메뉴에 상태가 신규(New)인 새로운 신청 건이 생성됩니다. 관리자에게 알림(Notification)이 갑니다.
서류 검토 (Reviewing): 관리자는 신청 건을 클릭해 상세 정보와 업로드된 서류(Documents 연계)를 확인합니다.
보완 요청 (Action Required): 정보가 부족하거나 서류에 문제가 있으면, 상태를 보완 필요(Action Required)로 변경하고 사용자에게 이메일 또는 시스템 알림으로 보완을 요청합니다. 어떤 서류가 필요한지 메모를 남길 수 있는 기능이 필요합니다.
결제 확인 (Payment Verified): 관리자는 Payments 메뉴와 연동된 결제 상태를 확인합니다. 미결제 시 결제 요청 알림을 보낼 수 있습니다.
처리 중 (Processing): 모든 정보와 결제가 확인되면, 상태를 처리 중(Processing)으로 변경하고 실제 비자 발급 절차를 시작합니다.
완료 (Completed): 비자 발급이 완료되면, 상태를 완료(Completed)로 변경하고 최종 발급된 E-Visa 파일을 업로드합니다. 사용자는 자신의 계정에서 해당 파일을 다운로드할 수 있습니다.
취소/거절 (Cancelled/Rejected): 문제가 발생하여 취소 또는 거절될 경우, 사유를 입력하고 상태를 변경합니다.
💬 Consultations (챗봇 및 상담 관리)
단순 문의를 넘어 고객 관리의 시작점이 되도록 워크플로우를 구성해야 합니다.

현재 상태: server/models/consultation.js 모델이 존재하지만, 챗봇과의 연계가 불명확합니다.
추천 워크플로우 (챗봇 연계):
1단계: 챗봇 응대: 고객이 챗봇에게 질문하면, 시스템은 먼저 미리 정의된 FAQ 데이터베이스에서 답변을 찾아 제공합니다.
2단계: 상담 티켓 생성 (Escalation):
챗봇이 답변할 수 없거나, 고객이 "상담원 연결"과 같은 키워드를 입력하면 챗봇은 "상담을 접수하시겠습니까?"라고 물어봅니다.
고객이 동의하면, 현재까지의 대화 기록 전체와 고객 정보(이름, 연락처 등)를 포함하여 createConsultation GraphQL Mutation을 호출합니다.
이 데이터는 Consultations 테이블에 신규 문의(New) 상태로 저장됩니다.
3단계: 대시보드 처리:
Consultations 메뉴에 새로운 문의 건이 등록되고 관리자에게 알림이 갑니다.
관리자는 저장된 대화 기록을 보고 고객의 의도를 정확히 파악한 후, 이메일이나 전화로 응대합니다.
처리 후에는 상태를 답변 완료(Replied) 또는 종료(Closed)로 변경하고 처리 내용을 기록합니다.
💳 Payments (결제 관리)
자동화된 확인 절차와 수동 처리 기능을 모두 고려해야 합니다.

현재 상태: server/models/payment.js 모델과 관련 resolvers가 존재합니다.
추천 워크플로우:
결제 기록 생성: 고객이 신청 마지막 단계에서 결제를 시도하면, Payments 테이블에 미결제(Unpaid) 상태의 기록이 생성됩니다.
자동 상태 업데이트 (웹훅 연동):
VNPay, Stripe 같은 외부 결제 게이트웨이(PG)와 연동합니다.
결제가 성공하면 PG사에서 우리 서버의 특정 엔드포인트(Webhook)로 결제 성공 신호를 보냅니다.
서버는 이 신호를 받아 해당 결제 건의 상태를 결제 완료(Paid)로 자동 업데이트하고, Applications 상태에도 반영합니다.
수동 처리: 고객이 무통장 입금(Bank Transfer)을 하는 경우, 관리자가 입금 내역을 확인하고 직접 대시보드에서 상태를 결제 완료(Paid)로 변경할 수 있어야 합니다.
환불 처리: 고객 요청으로 환불이 필요한 경우, 관리자는 대시보드에서 환불(Refunded) 상태로 변경하고 관련 메모를 남길 수 있습니다.
📄 Documents (서류 관리)
보안과 편의성을 최우선으로 고려해야 합니다.

추천 워크플로우:
직접 접근 금지: 이 메뉴는 모든 고객의 서류를 리스트로 보여주는 곳이 되어서는 안 됩니다. (보안 및 개인정보 이슈)
신청 건을 통한 접근: 서류는 반드시 Applications 메뉴의 각 신청 건 상세 페이지 내에서만 접근해야 합니다. 즉, '홍길동 고객의 신청서' 페이지 안에 '업로드된 서류' 섹션이 있는 형태입니다.
파일 관리:
저장소: 사용자 파일을 서버에 직접 저장하지 말고, AWS S3, Google Cloud Storage 같은 외부 클라우드 스토리지에 저장하는 것을 강력히 권장합니다.
업로드/다운로드: 관리자는 고객이 올린 파일을 보고, 다운로드할 수 있어야 합니다. 또한, 최종 발급된 비자처럼 관리자가 생성한 파일을 해당 신청 건에 업로드하여 고객에게 전달할 수 있어야 합니다.
서류별 상태 관리: 각 서류(여권 사본, 증명사진 등)에 대해 확인 완료(Verified), 반려(Rejected) 상태를 개별적으로 관리할 수 있으면 워크플로우가 더욱 명확해집니다.
⚙️ Services & Pricing (서비스 및 가격 관리)
비즈니스 변경에 유연하게 대처할 수 있도록 시스템을 구축해야 합니다.

현재 상태: eVisaPrice, fastTrackPrice 등 서비스별 가격 모델과 관련 GraphQL 스키마/리졸버가 이미 잘 구성되어 있습니다.
추천 워크플로우:
관리자 UI: 관리자가 코드를 수정하지 않고도 대시보드에서 직접 서비스와 가격을 C.R.U.D(생성, 조회, 수정, 삭제) 할 수 있는 UI를 client/app/dashboard/pricing/page.js 와 client/app/dashboard/services/page.js 에 구현합니다.
서비스 관리 (Services):
'E-Visa 90일 단수', '공항 패스트트랙' 등 서비스의 이름, 설명, 신청 시 필요한 서류 목록, 처리 기간 등의 정보를 관리합니다.
가격 관리 (Pricing):
각 서비스에 연결된 가격을 관리합니다.
'처리 속도' (Standard, Express), '국적 그룹' 등 다양한 조건에 따라 다른 가격을 설정할 수 있는 유연한 구조를 적용합니다. 현재 모델 구조가 이를 어느 정도 지원하는 것으로 보입니다.
실시간 반영: 관리자가 대시보드에서 가격을 '100달러'에서 '110달러'로 수정하고 저장하면, 별도의 배포 없이 즉시 고객이 보는 메인 페이지 및 신청 페이지의 가격 정보가 변경되어야 합니다. 이는 GraphQL 쿼리가 항상 최신 DB 데이터를 가져오므로 자연스럽게 구현됩니다.
요약 및 다음 단계 제안
제안 드린 워크플로우는 고객의 행동에서 시작하여 대시보드의 각 기능이 어떻게 유기적으로 연결되어야 하는지에 초점을 맞췄습니다.

- 다국어(베트남어(기준), 한국어, 영어) 확장 고려
